# 序列与循环

序列是以空格分隔的多个值，一般用于循环处理，也可直接作为命令参数，一次处理多个对象。

`序列中某个值包含空格时，可能会被当做两个元素，产生问题，需要小心处理。`

序列有多种生成方法：

+ 直接指定：`a b c 1 2 3`
+ 扩展语法：`{s..e}`，生成s到e的连续字符序列，按ascii码排序
+ 外部命令：`seq [first] [inc] {last}`，与`{}`扩展类似，但可指定步长，last是必须参数
+ 文件通配：文件通配符的展开结果也是一个序列，序列每项都是一个文件名
+ 数组序列：如果`array`是数组名，则`${array[@]}`即是数组所有元素组成的序列

```bash
# {s..e}扩展
{1..3} -> 1 2 3
{a..c} -> a b c
{Z..a} -> Z [  ] ^ _ ` a

# seq命令
seq 3     -> 1 2 3
seq 2 4   -> 2 3 4
seq 1 3 7 -> 1 4 7

# 通配符展开
*     -> a.txt b.bak
```

扩展序列如果有前后缀，则序列每一项都会与前后缀拼接，常用于路径简写：

```bash
path/{1..3}.ext -> path/1.ext path/2.ext path/3.ext
```

序列遍历方法为`for ele in seq`。

```bash
for e in a b c
for e in {1..3}
for e in $(seq 1 3 7)   # 命令执行结果才是序列，所以要加$()
for e in *              # 遍历当前目录下所有目录和文件
                        # 当文件名包含空格时，不会被当做两个元素
for e in ${array[@]}    # 当某个元素值包含空格时，会被当做两个元素，需要小心处理
```

# 变量替换

# 重定向

# 数组